from bs4 import BeautifulSoup

def extract_html_tables_as_text(html: str) -> str:
    """
    Parses HTML content and extracts all tables as header:value text lines.
    Handles multiple tables in one HTML string.
    """
    soup = BeautifulSoup(html, "html.parser")
    tables = soup.find_all("table")
    all_text_lines = []

    for table in tables:
        rows = table.find_all("tr")
        if not rows:
            continue

        # Extract header row
        header_cells = [cell.get_text(strip=True) for cell in rows[0].find_all(["td", "th"])]
        if not header_cells:
            continue

        # Process each data row
        for row in rows[1:]:
            value_cells = [cell.get_text(strip=True) for cell in row.find_all(["td", "th"])]
            if not value_cells:
                continue
            # Align headers with row values
            row_dict = dict(zip(header_cells, value_cells))
            # Convert dict to "Header: Value" format
            line = ", ".join(f"{k}: {v}" for k, v in row_dict.items())
            all_text_lines.append(line)

    return "\n".join(all_text_lines)
